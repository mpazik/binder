# Personal knowledge management blueprint (PARA-based)
# Provides: Area, Project, Task, Note, Resource types

- author: system
  configurations:
    # Fields
    - key: status
      type: Field
      name: Status
      dataType: option
      options: [pending, active, complete, cancelled, archived]
      default: pending

    - key: priority
      type: Field
      dataType: option
      options: [low, medium, high]
      default: medium

    - key: dueDate
      type: Field
      name: Due Date
      dataType: date

    - key: completedAt
      type: Field
      name: Completed At
      dataType: datetime
      when: { status: complete }

    - key: resourceType
      type: Field
      name: Resource Type
      dataType: option
      options: [book, article, video, podcast, course, paper]

    - key: url
      type: Field
      name: URL
      dataType: plaintext

    - key: linksTo
      type: Field
      name: Links To
      dataType: relation
      range: [Area, Task, Project, Note, Resource]
      allowMultiple: true
      inverseOf: linkedFrom

    - key: linkedFrom
      type: Field
      name: Linked From
      dataType: relation
      range: [Area, Task, Project, Note, Resource]
      allowMultiple: true
      inverseOf: linksTo

    # Types
    - key: Area
      type: Type
      description: Life area or responsibility
      fields:
        - title: { required: true }
        - description
        - children: { only: [Project, Note] }

    - key: Task
      type: Type
      description: Personal action item
      fields:
        - title: { required: true }
        - description
        - status: { default: pending, exclude: [archived] }
        - priority: { default: medium }
        - dueDate
        - completedAt
        - parent: { only: [Task, Project] }
        - children: { only: [Task] }
        - tags
        - linksTo
        - linkedFrom

    - key: Project
      type: Type
      description: Personal goal or initiative
      fields:
        - title: { required: true }
        - description
        - status: { default: pending }
        - priority
        - parent: { only: [Area] }
        - children: { only: [Task] }
        - tags
        - linksTo
        - linkedFrom

    - key: Note
      type: Type
      description: Captured thought or information
      fields:
        - title: { required: true }
        - textContent
        - parent: { only: [Area] }
        - tags
        - linksTo
        - linkedFrom

    - key: Resource
      type: Type
      description: Content to consume or reference
      fields:
        - title: { required: true }
        - description
        - resourceType: { required: true }
        - url
        - status: { exclude: [active] }
        - tags
        - linksTo
        - linkedFrom

# Navigation Structure (PARA-based workspace)
- author: system
  configurations:
    # Areas
    - key: nav-areas-index
      type: Navigation
      path: areas/index
      query:
        filters: { type: Area }

    - key: nav-areas-dir
      type: Navigation
      path: areas/{title}/
      where: { type: Area }

    - key: nav-area-entity
      type: Navigation
      path: area
      parent: nav-areas-dir

    - key: nav-area-projects
      type: Navigation
      path: projects
      parent: nav-areas-dir
      query:
        filters: { type: Project, parent: "{parent.key}" }

    - key: nav-area-notes-dir
      type: Navigation
      path: notes/
      parent: nav-areas-dir

    - key: nav-area-notes-index
      type: Navigation
      path: index
      parent: nav-area-notes-dir
      query:
        filters: { type: Note, parent: "{parent.key}" }

    - key: nav-area-notes-entity
      type: Navigation
      path: "{title}"
      parent: nav-area-notes-dir
      where: { type: Note, parent: "{parent.key}" }

    - key: nav-area-resources
      type: Navigation
      path: resources
      parent: nav-areas-dir
      query:
        filters: { type: Resource, linksTo: "{parent.key}" }

    # Projects
    - key: nav-projects-pending
      type: Navigation
      path: projects/pending
      query:
        filters: { type: Project, status: pending }

    - key: nav-projects-active
      type: Navigation
      path: projects/active
      query:
        filters: { type: Project, status: active }

    - key: nav-projects-dir
      type: Navigation
      path: projects/{title}/
      where: { type: Project, status: [pending, active] }

    - key: nav-project-entity
      type: Navigation
      path: project
      parent: nav-projects-dir

    - key: nav-project-tasks
      type: Navigation
      path: tasks
      parent: nav-projects-dir
      query:
        filters: { type: Task, parent: "{parent.key}" }

    # Tasks
    - key: nav-tasks-pending
      type: Navigation
      path: tasks/pending
      query:
        filters: { type: Task, status: pending }

    - key: nav-tasks-active
      type: Navigation
      path: tasks/active
      query:
        filters: { type: Task, status: active }

    # Resources
    - key: nav-resources-pending
      type: Navigation
      path: resources/pending
      query:
        filters: { type: Resource, status: pending }

    - key: nav-resources-active
      type: Navigation
      path: resources/active
      query:
        filters: { type: Resource, status: active }

    - key: nav-resources-books
      type: Navigation
      path: resources/books
      query:
        filters:
          { type: Resource, resourceType: book, status: [pending, active] }

    - key: nav-resources-articles
      type: Navigation
      path: resources/articles
      query:
        filters:
          { type: Resource, resourceType: document, status: [pending, active] }

    - key: nav-resources-others
      type: Navigation
      path: resources/others
      query:
        filters:
          type: Resource
          resourceType: [video, podcast, course, paper]
          status: [pending, active]

    # Archive
    - key: nav-archive-projects
      type: Navigation
      path: archive/projects/{title}/
      where: { type: Project, status: [complete, cancelled, archived] }

    - key: nav-archive-project
      type: Navigation
      path: project
      parent: nav-archive-projects-dir

    - key: nav-archive-resources-books
      type: Navigation
      path: archive/resources/books
      query:
        filters: { type: Resource, resourceType: book, status: complete }

    - key: nav-archive-resources-articles
      type: Navigation
      path: archive/resources/articles
      query:
        filters: { type: Resource, resourceType: document, status: complete }

    - key: nav-archive-resources-others
      type: Navigation
      path: archive/resources/others
      query:
        filters:
          type: Resource
          resourceType: [video, podcast, course, paper]
          status: complete

# Sample data for personal knowledge management blueprint
- author: system
  nodes:
    # Areas
    - type: Area
      key: health
      title: Health
      description: Physical and mental wellbeing

    - type: Area
      key: career
      title: Career
      description: Professional growth and work

    # Projects
    - type: Project
      key: run-5km
      title: Run first 5km race
      description: Train for and complete a 5km running race
      status: active
      priority: high
      parent: health

    - type: Project
      key: learn-typescript
      title: Learn TypeScript
      description: Master TypeScript for better code quality
      status: pending
      parent: career

    # Tasks
    - type: Task
      title: Sign up for local 5km race
      status: complete
      priority: high
      parent: run-5km

    - type: Task
      title: Buy running shoes
      parent: run-5km

    - type: Task
      title: Complete week 1 training plan
      status: active
      priority: high
      parent: run-5km

    - type: Task
      title: Schedule rest days
      priority: low
      parent: run-5km

    - type: Task
      title: Read TypeScript handbook
      parent: learn-typescript

    - type: Task
      title: Set up TypeScript project
      priority: high
      parent: learn-typescript

    - type: Task
      title: Practice generics exercises
      parent: learn-typescript

    # Notes
    - type: Note
      title: Sleep Tips
      textContent: |
        - Avoid screens 1 hour before bed
        - Keep bedroom cool (65-68°F)
        - Consistent sleep schedule
      parent: health

    - type: Note
      title: Running Form Cues
      textContent: |
        - Land midfoot, not heel
        - Keep cadence around 180 steps/min
        - Relax shoulders, arms at 90°
      parent: health

    - type: Note
      title: Career Goals 2025
      textContent: |
        - Get promoted to senior developer
        - Learn TypeScript deeply
        - Contribute to open source
      parent: career

    # Resources
    - type: Resource
      title: TypeScript Handbook
      resourceType: document
      url: https://www.typescriptlang.org/docs/handbook/
      linksTo: [career]

    - type: Resource
      title: Atomic Habits
      description: Book by James Clear on building good habits
      resourceType: book
      status: active
      linksTo: [health]

    - type: Resource
      title: Couch to 5K
      description: Beginner running program guide
      resourceType: document
      url: https://www.nhs.uk/live-well/exercise/running-and-aerobic-exercises/get-running-with-couch-to-5k/
      status: complete
      linksTo: [health]

    - type: Resource
      title: The Pragmatic Programmer
      description: Classic book on software craftsmanship
      resourceType: book
      linksTo: [career]

    - type: Resource
      title: Why We Sleep
      description: Book by Matthew Walker on sleep science
      resourceType: book
      linksTo: [health]

    - type: Resource
      title: TypeScript Deep Dive
      resourceType: document
      url: https://basarat.gitbook.io/typescript/
      status: active
      linksTo: [career]

    - type: Resource
      title: Huberman Lab - Sleep Toolkit
      description: Podcast episode on optimizing sleep
      resourceType: podcast
      url: https://www.hubermanlab.com/episode/toolkit-for-sleep
      linksTo: [health]

    # Archived
    - type: Project
      key: learn-git
      title: Learn Git basics
      description: Understand version control fundamentals
      status: complete
      parent: career

    - type: Resource
      title: Pro Git
      description: Comprehensive Git guide by Scott Chacon
      resourceType: book
      status: complete
      linksTo: [career]

    - type: Resource
      title: Git Branching Tutorial
      resourceType: video
      url: https://www.youtube.com/watch?v=example
      status: complete
      linksTo: [career]
