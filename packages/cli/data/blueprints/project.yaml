# Project management blueprint
# Provides: Task, Milestone types

- author: system
  configurations:
    # Fields
    - key: status
      type: Field
      name: Status
      dataType: option
      options: [todo, in-progress, done]

    - key: priority
      type: Field
      dataType: option
      options: [low, medium, high]

    - key: dueDate
      type: Field
      name: Due Date
      dataType: date

    - key: parent
      type: Field
      name: Parent
      dataType: relation
      inverseOf: children

    - key: children
      type: Field
      name: Children
      dataType: relation
      allowMultiple: true
      inverseOf: parent

    - key: linksTo
      type: Field
      name: Links To
      dataType: relation
      allowMultiple: true
      inverseOf: linkedFrom

    - key: linkedFrom
      type: Field
      name: Linked From
      dataType: relation
      allowMultiple: true
      inverseOf: linksTo

    # Types
    - key: Task
      type: Type
      name: Task
      fields:
        - title: { required: true }
        - description
        - status
        - priority
        - dueDate
        - parent: { only: [Task] }
        - children: { only: [Task] }
        - linksTo: { only: [Milestone, Task] }
        - linkedFrom

    - key: Milestone
      type: Type
      name: Milestone
      fields:
        - title: { required: true }
        - description
        - status
        - dueDate
        - linkedFrom: { only: [Task] }

# Navigation Structure
- author: system
  configurations:
    - key: nav-tasks
      type: Navigation
      path: tasks
      query:
        filters: { type: Task, status: [todo, in-progress] }

    - key: nav-milestones
      type: Navigation
      path: milestones
      query:
        filters: { type: Milestone, status: [todo, in-progress] }

    - key: nav-archive-dir
      type: Navigation
      path: archive/

    - key: nav-archive-tasks
      type: Navigation
      path: tasks
      parent: nav-archive-dir
      query:
        filters: { type: Task, status: done }

    - key: nav-archive-milestones
      type: Navigation
      path: milestones
      parent: nav-archive-dir
      query:
        filters: { type: Milestone, status: done }

# Sample data
- author: system
  nodes:
    # Milestones
    - type: Milestone
      key: design-phase
      title: Design Phase
      description: Complete all design mockups and prototypes
      status: done
      dueDate: 2025-01-15

    - type: Milestone
      key: development-phase
      title: Development Phase
      description: Implement approved designs
      status: in-progress
      dueDate: 2025-02-28

    - type: Milestone
      key: launch
      title: Launch
      description: Go live with new website
      status: todo
      dueDate: 2025-03-31

    # Tasks
    - type: Task
      title: Create wireframes
      description: Low-fidelity wireframes for all pages
      status: done
      priority: high
      linksTo: [design-phase]

    - type: Task
      title: Design homepage mockup
      status: done
      priority: high
      linksTo: [design-phase]

    - type: Task
      title: Build component library
      status: in-progress
      priority: high
      linksTo: [development-phase]

    - type: Task
      title: Implement responsive navigation
      status: todo
      priority: medium
      linksTo: [development-phase]

    - type: Task
      title: Set up CI/CD pipeline
      status: todo
      priority: low
      linksTo: [launch]
